# Configuration for Algae Microscopy Classifier
# Save as: configs/config.yaml

# Data Configuration
data:
  # Data is already pre-split into train/val/test directories
  train_images: "data/train/images"
  train_labels: "data/train/labels"
  val_images: "data/val/images"
  val_labels: "data/val/labels"
  test_images: "data/test/images"
  test_labels: "data/test/labels"

  # Legacy directories (kept for compatibility)
  raw_dir: "data/raw"
  processed_dir: "data/processed"

  # Image specifications (adjust based on your microscopy images)
  image_size: 224  # Standard for transfer learning
  channels: 3  # RGB

  # Data split ratios (not used since data is pre-split)
  # train_ratio: 0.7
  # val_ratio: 0.15
  # test_ratio: 0.15

  # Class names - 6 algae types (class IDs: 0-5)
  classes:
    - "Platymonas"         # Class 0
    - "Chlorella"          # Class 1
    - "Dunaliella salina"  # Class 2
    - "Effrenium"          # Class 3
    - "Porphyridium"       # Class 4
    - "Haematococcus"      # Class 5

# Model Configuration
model:
  name: "efficientnet_b0"  # Options: efficientnet_b0, resnet50, vit_base
  pretrained: true
  num_classes: 6  # 6 algae types: Platymonas, Chlorella, Dunaliella salina, Effrenium, Porphyridium, Haematococcus
  dropout: 0.3

# Training Configuration
training:
  batch_size: 32
  epochs: 50
  learning_rate: 0.0001
  weight_decay: 0.0001

  # Early stopping
  patience: 10
  min_delta: 0.001

  # Device
  device: "cuda"  # Options: cuda, cpu, mps (for Mac M1/M2)
  num_workers: 4

  # Checkpointing
  save_best_only: true
  checkpoint_dir: "outputs/models"

# Data Augmentation (critical for microscopy images!)
augmentation:
  train:
    horizontal_flip: 0.5
    vertical_flip: 0.5
    rotation: 90  # degrees (90Â° increments common for microscopy)
    brightness: 0.2
    contrast: 0.2
    gaussian_noise: 0.01

  val_test:
    # Minimal augmentation for validation/test
    normalize_only: true

# Logging
logging:
  log_dir: "outputs/logs"
  tensorboard: true
  save_frequency: 5  # Save every N epochs

# Reproducibility
seed: 42